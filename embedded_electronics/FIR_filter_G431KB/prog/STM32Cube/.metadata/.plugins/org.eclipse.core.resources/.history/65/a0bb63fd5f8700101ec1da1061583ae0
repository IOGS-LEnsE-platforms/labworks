#include "PixelArray.h"


void init_array(PixelArray *pixels, (int nb_pixels, int nb_bits){
	pixels->__nb_pixels = nb_pixels;
	pixels->__nb_bits = nb_bits;
	pixels->_array = new int[nb_pixels];
}


void set_all_RGB(PixelArray *pixels, short r, short g, short b){
    for(int i = 0; i < this->__nb_pixels; i++){
        this->set_pix_RGB(i, r, g, b);
    }
}

void set_pix_RGB(PixelArray *pixels, int pix, short r, short g, short b){
    int val = 0;
    if(this->__nb_bits == WS2812_STD)
        val = (g << 16) + (r << 8) + b;
    if(this->__nb_bits == WS2812_WHI)
        val = (g << 24) + (r << 16) + (b << 8);
    this->_array[pix] = val;
}

int* get_array(PixelArray *pixels){
    return this->_array;
}

void set_black_all(PixelArray *pixels){
    this->set_all_RGB(0, 0, 0);
}
